<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="styles.css" />
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <title>File Nest - Your Cloud, Your Way</title>
  </head>
  <body>
    <section class="authenticate">
      <h1>
        File Nest
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="1.3em"
          height="1.3em"
          viewBox="0 0 24 24"
        >
          <path
            fill="none"
            stroke="white"
            stroke-linejoin="round"
            stroke-width="1.5"
            d="M2.75 8.623v7.379a4 4 0 0 0 4 4h10.5a4 4 0 0 0 4-4v-5.69a4 4 0 0 0-4-4H12M2.75 8.624V6.998a3 3 0 0 1 3-3h2.9a2.5 2.5 0 0 1 1.768.732L12 6.313m-9.25 2.31h5.904a2.5 2.5 0 0 0 1.768-.732L12 6.313"
          />
        </svg>
      </h1>

      <div>
        <form action="/login" method="POST">
          <h3>Login</h3>
          <% if(!locals.errors) { errors = [];} 
          const userNameErrors = errors ? errors.filter((error) => error.path === "username"): []; 
          const passwordErrors = errors ? errors.filter((error) => error.path === "password") : []; %>
          <input
            type="text"
            name="username"
            id="username"
            placeholder="Username"
          />
          <ul class="errors">
            <% userNameErrors.forEach((err) => {%>
            <li><%= err.msg%></li>
            <%})%>
          </ul>

          <input
            type="password"
            name="password"
            id="password"
            placeholder="Password"
          />
          <ul class="errors">
            <% passwordErrors.forEach((err) => {%>
            <li><%= err.msg%></li>
            <%})%>
          </ul>
          <% if(locals.message) {%>  
            <ul class="errors">
              <li><%= message%></li>
            </ul>           
            <%}%>
          <button type="submit">Login</button>
        </form>
      </div>
    </section>
  </body>
</html>
